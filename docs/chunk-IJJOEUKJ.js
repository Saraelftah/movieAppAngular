import{a as N}from"./chunk-WQNUEB3P.js";import{a as F,b as k,c as B,d as j,e as z,f as A,g as G}from"./chunk-RWWXTS7J.js";import"./chunk-WCM4IZ3U.js";import{e as I,f as P,g as O}from"./chunk-LFVORJ4Q.js";import{aa as E}from"./chunk-CQ6BDENV.js";import{h as b,i as D,p as R}from"./chunk-VVZGUZE2.js";import{$a as u,Aa as r,Bb as a,Cb as c,Db as v,La as h,Rb as C,Sb as T,W as s,Yb as p,Zb as y,ab as w,bb as x,cb as _,db as S,eb as l,fb as n,gb as o,hb as m,pb as M,ya as g}from"./chunk-OVEDPWQS.js";function $(i,t){if(i&1&&m(0,"p-tag",13),i&2){let e=t.$implicit;l("value",e)}}function q(i,t){i&1&&(n(0,"p"),a(1,"No genres available."),o())}function H(i,t){if(i&1&&(n(0,"div",3),m(1,"img",4),o(),n(2,"div",5)(3,"h2",6),a(4),o(),n(5,"p",7),a(6),m(7,"i",8),o(),n(8,"div",9),m(9,"p-rating",10),n(10,"span"),a(11),C(12,"number"),o()(),n(13,"p",11),a(14),o(),n(15,"div",12),_(16,$,1,1,"p-tag",13,x,!1,q,2,0,"p"),o()()),i&2){let e=M();r(),l("src","https://image.tmdb.org/t/p/w500"+e.tvshow().poster_path,g)("alt",e.tvshow().name),r(3),c(e.tvshow().name),r(2),v("",e.tvshow().first_air_date," "),r(3),l("ngModel",e.tvshow().vote_average/2)("readonly",!0)("stars",5),r(2),v("(",T(12,10,e.tvshow().vote_average,"1.1-1"),"/10)"),r(3),c(e.tvshow().overview),r(2),S(e.genres())}}function J(i,t){i&1&&(n(0,"p"),a(1,"Loading movie details or movie not found..."),o())}var U=class i{tvshow;id;genres;route=s(R);tvshowService=s(N);recommService=s(j);movieReviwService=s(A);constructor(){this.tvshowService.loadAllSections(),this.tvshowService.fetchGenres(),this.tvshow=p(()=>this.tvshowService.findSeriesById(this.id)),this.genres=p(()=>{let t=this.tvshow(),e=this.tvshowService.genre();return!t||!t.genre_ids||e.length===0?[]:t.genre_ids.map(d=>{let f=e.find(L=>L.id===d);return f?f.name:"Unknown"})}),y(()=>{let t=this.tvshow();t&&t.id?(this.recommService.fetchRecomm(t.id,"tv"),this.movieReviwService.fetchReviw(t.id),console.log("Fetching recommendations for movie ID:",t.id)):console.log("Movie not yet found or ID not available, not fetching recommendations.")})}ngOnInit(){this.id=Number(this.route.snapshot.paramMap.get("id"))}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=h({type:i,selectors:[["app-tv-details"]],decls:7,vars:1,consts:[[1,"movieDetails"],[1,"container"],[1,"flex","justify-between","gap-1"],[1,"img-container","rounded-lg"],[1,"rounded-3xl",3,"src","alt"],[1,"movie-details","w-3/5"],[1,"!mb-4","text-3xl","font-bold"],[1,"!mb-4","rel-date"],[1,"pi","pi-calendar",2,"font-size","1rem"],[1,"flex","align-items-center","gap-2","myRating"],[3,"ngModel","readonly","stars"],[1,"!my-4"],[1,"genres-container","flex","flex-wrap","gap-2"],[1,"!mt-4","!rounded-full","genre",3,"value"]],template:function(e,d){e&1&&(n(0,"section",0)(1,"div",1)(2,"div",2),u(3,H,19,13)(4,J,2,0,"p"),o(),m(5,"app-recommendation")(6,"app-movie-reviw"),o()()),e&2&&(r(3),w(d.tvshow()?3:4))},dependencies:[D,b,E,F,B,k,O,I,P,z,G],styles:[".movie-details[_ngcontent-%COMP%]{background-color:#f3f1f1;padding:30px 20px;border-radius:24px;box-shadow:0 0 15px 5px #fff5b499;color:#272d37}.movie-details[_ngcontent-%COMP%]   .myRating[_ngcontent-%COMP%]{--p-rating-icon-active-color: gold}.movie-details[_ngcontent-%COMP%]   .rel-date[_ngcontent-%COMP%]{color:#5f6d7e}.movie-details[_ngcontent-%COMP%]   .genre[_ngcontent-%COMP%]{background-color:#ffe353;color:#272d37;padding:8px 16px}"]})};export{U as TvDetails};
