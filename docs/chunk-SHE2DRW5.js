import{b as s}from"./chunk-LFVORJ4Q.js";import{n as p}from"./chunk-VVZGUZE2.js";import{R as r,W as n,ia as t}from"./chunk-OVEDPWQS.js";var l=class a{http=n(p);languageService=n(s);apiKey="eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJiYTU5ZmFlNzllYjQ4NzBlM2YyYTc3ZWFhZTgyNmY4NCIsIm5iZiI6MTc0NzU5MzU4MC43Nzc5OTk5LCJzdWIiOiI2ODJhMjk2Y2E4NWE2ZjAxZTRkYjI2MTYiLCJzY29wZXMiOlsiYXBpX3JlYWQiXSwidmVyc2lvbiI6MX0.UE_n1TZkVTECJsop4ddngFw08IZ3QcS4FuTzk08uI5s";currentLanguage=this.languageService.currentLanguage;_nowPlaying=t([]);_popular=t([]);_topRated=t([]);_upcoming=t([]);_genre=t([]);get nowPlaying(){return this._nowPlaying.asReadonly()}get popular(){return this._popular.asReadonly()}get topRated(){return this._topRated.asReadonly()}get upcoming(){return this._upcoming.asReadonly()}get genre(){return this._genre.asReadonly()}getMoviesBySection(e){let i=this.currentLanguage(),o=`https://api.themoviedb.org/3/movie/${e}?language=${i}`;return this.http.get(o,{headers:{Authorization:`Bearer ${this.apiKey}`,accept:"application/json"}})}loadSection(e,i){this.getMoviesBySection(e).subscribe(o=>i.set(o.results))}loadAllSections(){this.loadSection("now_playing",this._nowPlaying),this.loadSection("popular",this._popular),this.loadSection("top_rated",this._topRated),this.loadSection("upcoming",this._upcoming)}findMovieById(e){return[...this.nowPlaying(),...this.popular(),...this.topRated(),...this.upcoming()].find(o=>o.id===e)}fetchGenres(){this.http.get("https://api.themoviedb.org/3/genre/movie/list",{headers:{Authorization:`Bearer ${this.apiKey}`,accept:"application/json"}}).subscribe(e=>{this._genre.set(e.genres)})}static \u0275fac=function(i){return new(i||a)};static \u0275prov=r({token:a,factory:a.\u0275fac,providedIn:"root"})};export{l as a};
