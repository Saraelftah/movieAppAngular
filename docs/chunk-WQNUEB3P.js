import{b as h}from"./chunk-LFVORJ4Q.js";import{n as s}from"./chunk-VVZGUZE2.js";import{R as n,W as o,ia as t}from"./chunk-OVEDPWQS.js";var p=class r{http=o(s);languageService=o(h);apiKey="eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJiYTU5ZmFlNzllYjQ4NzBlM2YyYTc3ZWFhZTgyNmY4NCIsIm5iZiI6MTc0NzU5MzU4MC43Nzc5OTk5LCJzdWIiOiI2ODJhMjk2Y2E4NWE2ZjAxZTRkYjI2MTYiLCJzY29wZXMiOlsiYXBpX3JlYWQiXSwidmVyc2lvbiI6MX0.UE_n1TZkVTECJsop4ddngFw08IZ3QcS4FuTzk08uI5s";currentLanguage=this.languageService.currentLanguage;_airingToday=t([]);_onTheAir=t([]);_popular=t([]);_topRated=t([]);_genre=t([]);get airingToday(){return this._airingToday.asReadonly()}get onTheAir(){return this._onTheAir.asReadonly()}get popular(){return this._popular.asReadonly()}get topRated(){return this._topRated.asReadonly()}get genre(){return this._genre.asReadonly()}getSeriesBySection(e){let i=this.currentLanguage(),a=`https://api.themoviedb.org/3/tv/${e}?language=${i}`;return this.http.get(a,{headers:{Authorization:`Bearer ${this.apiKey}`,accept:"application/json"}})}loadSection(e,i){this.getSeriesBySection(e).subscribe(a=>i.set(a.results))}loadAllSections(){this.loadSection("airing_today",this._airingToday),this.loadSection("top_rated",this._topRated),this.loadSection("on_the_air",this._onTheAir),this.loadSection("popular",this._popular)}findSeriesById(e){return[...this.airingToday(),...this.onTheAir(),...this.topRated(),...this.popular()].find(a=>a.id===e)}fetchGenres(){this.http.get("https://api.themoviedb.org/3/genre/tv/list",{headers:{Authorization:`Bearer ${this.apiKey}`,accept:"application/json"}}).subscribe(e=>{this._genre.set(e.genres)})}static \u0275fac=function(i){return new(i||r)};static \u0275prov=n({token:r,factory:r.\u0275fac,providedIn:"root"})};export{p as a};
